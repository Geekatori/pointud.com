!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.ContactForm=t()}(this,function(){"use strict";var n=function(e,t){if(!(this&&this instanceof n))return new n(e,t);e&&t&&(this.form=e instanceof Node?e:document.querySelector(e),this.endpoint=t.endpoint,this.send())};return n.prototype={hasClass:function(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)},addClass:function(e,t){this.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},removeClass:function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},each:function(e,t){var n,s;for(n=0,s=e.length;n<s;n+=1)t(e[n],n,e)},template:function(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e=e.replace(new RegExp("{"+n+"}","g"),t[n]));return e},empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},removeElementsByClass:function(e){for(var t=document.getElementsByClassName(e);0<t.length;)t[0].parentNode.removeChild(t[0])},post:function(e,t,n,s){var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var t="";try{t=JSON.parse(this.responseText)}catch(e){t=this.responseText}n.call(this,t)}else s.call(this,this.responseText)},r.send(t),r=null},param:function(t){return"string"==typeof t?t:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")},send:function(){this.form.addEventListener("submit",function(e){e.preventDefault();var t,n=document.querySelectorAll(".form-control");this.each(n,function(e,t){this.hasClass(e.parentNode,"has-error")&&(this.removeClass(e.parentNode,"has-error"),this.removeElementsByClass("help-block"))}.bind(this)),t={name:document.querySelector('input[name="form-name"]').value,email:document.querySelector('input[name="form-email"]').value,subject:document.querySelector('input[name="form-subject"]').value,message:document.querySelector('textarea[name="form-message"]').value},this.post(this.endpoint,this.param(t),this.feedback.bind(this),this.fail.bind(this))}.bind(this),!1)},feedback:function(e){if(e.success){var t=this.template('<div class="container alert alert-success">{report} <p><a href="#" title="Retour" class="btn btn-link" id="hide-form">Retour</a></p></div>',{report:e.message});this.empty(this.form),this.form.insertAdjacentHTML("beforeend",t),document.getElementById("hide-form").addEventListener("click",function(e){e.preventDefault(),document.body.classList.remove("visible-contact")})}else{if(e.errors.name){var n=document.querySelector('input[name="form-name"]').parentNode;this.addClass(n,"has-error"),o=this.template('<span class="help-block">{report}</span>',{report:e.errors.name}),n.insertAdjacentHTML("beforeend",o)}if(e.errors.email){var s=document.querySelector('input[name="form-email"]').parentNode;this.addClass(s,"has-error"),o=this.template('<span class="help-block">{report}</span>',{report:e.errors.email}),s.insertAdjacentHTML("beforeend",o)}if(e.errors.subject){var r=document.querySelector('input[name="form-subject"]').parentNode;this.addClass(r,"has-error"),o=this.template('<span class="help-block">{report}</span>',{report:e.errors.subject}),r.insertAdjacentHTML("beforeend",o)}if(e.errors.message){var o,i=document.querySelector('textarea[name="form-message"]').parentNode;this.addClass(i,"has-error"),o=this.template('<span class="help-block">{report}</span>',{report:e.errors.message}),i.insertAdjacentHTML("beforeend",o)}}},fail:function(e){console.log(e)}},n}),function(e,r,t){"use strict";var n=function(e,t){this.t=this.e(e)?r.querySelectorAll(e):[e],this.n=[],this.i=t,this.r=[],this.o(),this.destroy=function(){this.u(function(e){e.removeEventListener("reset",this.events.reset),this.s(e)},function(e){this.a(e)})},this.rebuild=function(){this.u(null,function(e){this.l(e,!0)})}};n.prototype={c:{customEvent:null,customLabel:null,customPlaceholder:null,exclude:".no-label",inputRegex:/email|number|password|search|tel|text|url/,prefix:"fl-",prioritize:"label",requiredClass:"required",style:0,transform:"input,select,textarea"},o:function(){var s=this;s.f(),s.u(function(e,t){var n=s.n[t].style;e.addEventListener("reset",s.events.reset),e.classList.add(s.h("form")),n&&e.classList.add(s.h("style-"+n))},function(e){s.l(e)})},f:function(){var e=this;e.events={blur:e.d.bind(e),change:e.v.bind(e),focus:e.p.bind(e),input:e.v.bind(e),reset:e._.bind(e)}},b:function(e){return e?"add":"remove"},m:function(e){var t=this,n=t.y(e);n&&(e.classList.add(t.h(e.tagName.toLowerCase())),t.L(n,e),t.g(n,e),t.w(n,e),t.x(e,"add"),"function"==typeof t.n[t.S].customEvent&&t.n[t.S].customEvent.call(t,e))},T:function(e,t){var n="string"==typeof e?r.createElement(e):e;for(var s in t=t||{})t.hasOwnProperty(s)&&n.setAttribute(s,t[s]);return n},C:function(){var e=[].slice.call(arguments),n=e[0],s=e.slice(1);return Object.keys(s).forEach(function(e){for(var t in s[e])s[e].hasOwnProperty(t)&&(n[t]=s[e][t])}),n},l:function(e,t){if(this.P(e)){if(this.j(e)){if(!0!==t)return;this.a(e)}this.m(e)}},y:function(e){var t='label[for="'+e.getAttribute("id")+'"]',n=this.t[this.S].querySelectorAll(t);return 1<n.length&&(n=e.parentNode.querySelectorAll(t)),1===n.length&&n[0]},q:function(e,t){var n=e.textContent.replace(/[*:]/g,"").trim(),s=t.getAttribute("placeholder");return(!n||n&&s&&"placeholder"===this.n[this.S].prioritize)&&(n=s),n},x:function(t,n){var s=this.events;["blur","input","focus"].forEach(function(e){"input"!==e||"file"!==t.type&&"SELECT"!==t.nodeName||(e="change"),t[n+"EventListener"](e,s[e])})},j:function(e){return e.parentNode.classList.contains(this.h("wrap"))},e:function(e){return"[object String]"===Object.prototype.toString.call(e)},P:function(e){var t="INPUT"===e.tagName&&!this.n[this.S].inputRegex.test(e.getAttribute("type")),n="SELECT"===e.tagName&&null!==e.getAttribute("multiple");return e.getAttribute("id")&&!t&&!n},u:function(e,t){for(var n=this,s=0;s<n.t.length;++s){if(void 0===n.r[s]){var r=n.C({},n.c,n.i,n.t[s].getAttribute("data-options")),o=":not("+r.exclude.split(/[\s,]+/).join("):not(")+")";n.r[s]=r.transform.replace(/,/g,o+",")+o,n.n[s]=r}var i=n.t[s].querySelectorAll(n.r[s]);n.S=s,"function"==typeof e&&e.call(n,n.t[s],s);for(var a=0;a<i.length;++a)"function"==typeof t&&t.call(n,i[a],s)}},d:function(e){e.target.parentNode.classList.remove(this.h("has-focus"))},v:function(e){e.target.parentNode.classList[this.b(e.target.value.length)](this.h("is-active"))},p:function(e){e.target.parentNode.classList.add(this.h("has-focus"))},_:function(){setTimeout(this.F.bind(this))},h:function(e){return this.n[this.S].prefix+e},s:function(e){var t=this.n[this.S].prefix,n=e.className.split(" ").filter(function(e){return 0!==e.lastIndexOf(t,0)});e.className=n.join(" ").trim()},a:function(e){var t=e.parentNode;if(this.j(e)){for(var n=r.createDocumentFragment();t.firstElementChild;){var s=t.firstElementChild;this.s(s),n.appendChild(s)}t.parentNode.replaceChild(n,t),this.O(e),this.x(e,"remove")}},F:function(){for(var e=this,t=e.t[e.S].querySelectorAll(e.r[e.S]),n=0;n<t.length;++n)t[n].parentNode.classList[e.b("SELECT"===t[n].tagName&&""!==t[n].value)](e.h("is-active"))},O:function(e){var t="data-placeholder",n=e.getAttribute(t);null!==n&&(e.removeAttribute(t),e.setAttribute("placeholder",n))},L:function(e,t){var n=this;e.classList.add(n.h("label")),e.textContent=n.q(e,t),"function"==typeof n.n[n.S].customLabel&&(e.textContent=n.n[n.S].customLabel.call(n,e,t))},g:function(e,t){var n=this,s=t.getAttribute("placeholder");"label"!==n.n[n.S].prioritize&&s||(s&&t.setAttribute("data-placeholder",s),s=n.q(e,t)),"function"==typeof n.n[n.S].customPlaceholder&&(s=n.n[n.S].customPlaceholder.call(n,s,t,e)),"SELECT"===t.tagName?n.R(t,s):t.setAttribute("placeholder",s)},R:function(e,t){var n=e.firstElementChild;n.hasAttribute("value")&&n.value?(e.insertBefore(new Option(t,""),n),!1===e.options[e.selectedIndex].defaultSelected&&(e.selectedIndex=0)):n.setAttribute("value",""),""===n.textContent&&(n.textContent=t)},w:function(e,t){var n=this,s=n.T("div",{class:n.h("wrap")+" "+n.h("wrap-"+t.tagName.toLowerCase())});void 0!==t.value&&t.value.length&&s.classList.add(n.h("is-active")),(null!==t.getAttribute("required")||t.classList.contains(n.n[n.S].requiredClass))&&s.classList.add(n.h("is-required")),t.parentNode.insertBefore(s,t),s.appendChild(e),s.appendChild(t)}},"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof module&&module.exports?module.exports=n:e.FloatLabels=n}(window,document),function(){"use strict";console.log("Sinon, on peut aussi discuter autour d'un 🍵 ou d'une 🍺 !");new FloatLabels("form",{style:2});window.onorientationchange=function(){document.body.scrollTop=0},window.ontouchmove=function(){return!1},window.onload=function(){var e,t,n,s,r;document.body.className="",e=document.getElementById("showForm"),t=document.getElementById("showAbout"),n=document.getElementsByClassName("close"),s="visible-contact",r="visible-about",e.addEventListener("click",function(e){e.preventDefault(),document.body.classList.add(s)}),t.addEventListener("click",function(e){e.preventDefault(),document.body.classList.add(r)}),Array.from(n).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),document.body.classList.remove(s,r)})}),document.onkeydown=function(e){e=e||window.event,("undefined"!=typeof key?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&document.body.classList.remove(s,r)}}}();
//# sourceMappingURL=main.build.js.map